<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz di Modelli Inclusivi</title>
    <style>
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            line-height: 1.6; 
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%); 
            color: #333; 
            min-height: 100vh; 
            padding: 20px; 
            margin: 0;
        }
        .container { 
            max-width: 900px; 
            margin: 0 auto; 
            background-color: white; 
            padding: 30px; 
            border-radius: 15px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.15); 
        }
        header { 
            text-align: center; 
            margin-bottom: 30px; 
        }
        h1 { 
            color: #2c3e50; 
            margin-bottom: 10px; 
            font-size: 2.2rem; 
        }
        .description { 
            color: #7f8c8d; 
            margin-bottom: 20px; 
        }
        .stats { 
            display: flex; 
            justify-content: space-between; 
            margin-bottom: 20px; 
            background: #f8f9fa; 
            padding: 15px; 
            border-radius: 10px; 
            font-weight: bold; 
        }
        .question { 
            margin-bottom: 25px; 
            padding: 20px; 
            border: 1px solid #e0e0e0; 
            border-radius: 10px; 
            background: #f8f9fa; 
            box-shadow: 0 4px 6px rgba(0,0,0,0.05); 
        }
        .question-number { 
            font-weight: bold; 
            color: #3498db; 
            margin-bottom: 10px; 
            font-size: 1.1rem; 
        }
        .options { 
            margin-left: 10px; 
        }
        .option { 
            margin: 12px 0; 
            display: flex; 
            align-items: flex-start; 
        }
        .option input { 
            margin-top: 5px; 
            margin-right: 12px; 
            cursor: pointer; 
        }
        .option label { 
            cursor: pointer; 
            flex: 1; 
        }
        button { 
            display: block; 
            margin: 30px auto; 
            padding: 14px 35px; 
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%); 
            color: white; 
            border: none; 
            border-radius: 50px; 
            cursor: pointer; 
            font-size: 1.1rem; 
            font-weight: bold; 
            box-shadow: 0 4px 15px rgba(0,0,0,0.2); 
            transition: all .3s ease; 
        }
        button:hover { 
            transform: translateY(-2px); 
            box-shadow: 0 6px 20px rgba(0,0,0,0.25); 
        }
        .results { 
            margin-top: 30px; 
            padding: 25px; 
            border: 1px solid #e0e0e0; 
            border-radius: 10px; 
            background: #e7f3fe; 
            display: none; 
        }
        .results h2 { 
            text-align: center; 
            color: #2c3e50; 
            margin-bottom: 20px; 
        }
        .question-result { 
            margin-bottom: 20px; 
            padding: 15px; 
            border-radius: 8px; 
            background: white; 
            box-shadow: 0 2px 4px rgba(0,0,0,0.05); 
        }
        .correct { 
            color: #27ae60; 
            font-weight: bold; 
        }
        .incorrect { 
            color: #e74c3c; 
        }
        .score { 
            font-size: 1.4rem; 
            font-weight: bold; 
            text-align: center; 
            margin: 25px 0; 
            color: #2c3e50; 
        }
        .topic { 
            font-size: 0.9rem; 
            color: #7f8c8d; 
            font-style: italic; 
            margin-top: 5px; 
        }
        .retry-btn { 
            text-align: right; 
            margin-top: 20px; 
        }
        .retry-btn button { 
            margin: 0; 
            padding: 10px 25px; 
            font-size: 1rem; 
        }
        footer {
            text-align: center;
            margin-top: 20px;
            color: #7f8c8d;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Quiz di Modelli Inclusivi</h1>
            <p class="description">15 domande estratte casualmente da un pool di 200</p>
        </header>

        <div class="stats">
            <div id="current-topic">Argomento: -</div>
            <div id="progress">Domanda: <span id="current">1</span> di <span id="total">15</span></div>
        </div>

        <div id="quiz-container"></div>
        <button id="submit-btn">Invia risposte</button>

        <div id="results" class="results"></div>

        <footer>
            <p>Quiz preparato sui modelli inclusivi</p>
        </footer>
    </div>

    <script>
        // Pool di 200 domande sui modelli inclusivi - REVISIONATO
        const questionsPool = [
            // 1. Fondamenti e principi dell'inclusione (40 domande)
            {
                "question": "L'inclusione scolastica si basa sull'idea che:",
                "options": [
                    "Tutti gli studenti abbiano diritto a partecipare pienamente",
                    "Gli studenti con alto rendimento debbano essere maggiormente valorizzati",
                    "Gli studenti con disabilità traggano beneficio da percorsi separati",
                    "L'apprendimento si realizzi attraverso metodologie uniformi per tutti"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },
            {
                "question": "Il termine 'integrazione' si distingue da 'inclusione' perché:",
                "options": [
                    "L'inclusione mira a trasformare l'intero sistema educativo",
                    "L'integrazione pone maggiore attenzione sul rendimento accademico",
                    "L'integrazione non considera adeguatamente le differenze individuali",
                    "L'inclusione tende a coinvolgere maggiormente la società nel suo complesso"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },
            {
                "question": "Un principio cardine dell'inclusione è:",
                "options": [
                    "Valorizzare la diversità come risorsa per l'apprendimento",
                    "Ridurre al minimo le differenze tra gli studenti",
                    "Organizzare classi separate in base ai livelli di abilità",
                    "Premiare principalmente i risultati degli studenti più brillanti"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },
            {
                "question": "L'approccio inclusivo considera la disabilità come:",
                "options": [
                    "Un'interazione dinamica tra individuo e contesto ambientale",
                    "Una condizione da affrontare principalmente attraverso interventi medici",
                    "Una responsabilità personale da gestire individualmente",
                    "Una limitazione permanente che condiziona tutte le potenzialità"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },
            {
                "question": "Secondo l'approccio inclusivo, la scuola deve:",
                "options": [
                    "Adattarsi alle caratteristiche e ai bisogni di tutti gli studenti",
                    "Selezionare rigidamente gli studenti in base alle loro capacità",
                    "Escludere chi non riesce a raggiungere determinati obiettivi standard",
                    "Considerare i bisogni individuali come aspetti secondari"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },
            {
                "question": "L'inclusione scolastica in Italia ha avuto grande impulso con:",
                "options": [
                    "La legge 517/1977 che abolì le classi differenziali",
                    "La riforma Gentile che riorganizzò il sistema scolastico",
                    "La Costituzione del 1861 che istituì l'obbligo scolastico",
                    "La legge Casati che definì i primi programmi nazionali"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },
            {
                "question": "La legge 104/1992 sancisce:",
                "options": [
                    "I diritti fondamentali delle persone con disabilità",
                    "L'abolizione completa di tutte le scuole speciali",
                    "Criteri di valutazione uniformi per tutti gli studenti",
                    "La centralità del voto numerico nel sistema di valutazione"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },
            {
                "question": "Un concetto chiave dell'inclusione è:",
                "options": [
                    "Pari opportunità di partecipazione e apprendimento",
                    "Separazione degli studenti in base alle loro caratteristiche",
                    "Meritocrazia assoluta senza considerazione delle condizioni di partenza",
                    "Isolamento degli studenti con particolari difficoltà"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },
            {
                "question": "Il modello inclusivo supera:",
                "options": [
                    "Il modello medico che considera solo i deficit individuali",
                    "Il valore della comunità come risorsa educativa",
                    "La collaborazione tra diversi attori educativi",
                    "Il ruolo fondamentale della scuola nella società"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },
            {
                "question": "La prospettiva inclusiva è coerente con:",
                "options": [
                    "I principi fondamentali dei diritti umani",
                    "Teorie basate sulla selezione naturale applicata all'educazione",
                    "Modelli educativi che privilegiano gerarchie sociali",
                    "Sistemi che enfatizzano la competizione individuale esasperata"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },
            {
                "question": "L'inclusione si differenzia dall'assimilazione perché:",
                "options": [
                    "Rispetta e valorizza le identità e le differenze culturali",
                    "Impone uniformità di comportamenti e pensieri",
                    "Cancella le specificità individuali e culturali",
                    "Esige conformismo a modelli prestabiliti"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },
            {
                "question": "Un obiettivo dell'inclusione è:",
                "options": [
                    "Partecipazione sociale attiva di tutti gli studenti",
                    "Isolamento domestico per studenti con gravi difficoltà",
                    "Passività nell'apprendimento da parte degli studenti",
                    "Separazione tra studenti con diverse abilità"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },
            {
                "question": "La diversità in un contesto inclusivo è vista come:",
                "options": [
                    "Risorsa educativa che arricchisce l'esperienza di apprendimento",
                    "Ostacolo al regolare svolgimento delle attività didattiche",
                    "Deficit da compensare attraverso interventi specifici",
                    "Problema da risolvere attraverso percorsi differenziati"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },
            {
                "question": "La scuola inclusiva promuove:",
                "options": [
                    "Equità e giustizia sociale attraverso l'educazione",
                    "Competizione estrema tra studenti per migliorare i risultati",
                    "Omogeneità assoluta nelle prestazioni degli studenti",
                    "Esclusione di chi non riesce a mantenere determinati standard"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },
            {
                "question": "Un presupposto dell'inclusione è:",
                "options": [
                    "Adattare l'ambiente educativo, non solo modificare la persona",
                    "Richiedere sacrifici aggiuntivi agli studenti con difficoltà",
                    "Escludere temporaneamente i più fragili dalle attività complesse",
                    "Uniformare i percorsi di apprendimento di tutti gli studenti"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },
            {
                "question": "La prospettiva inclusiva è contraria a:",
                "options": [
                    "Pratiche di segregazione e discriminazione degli studenti",
                    "Collaborazione tra docenti di diverse discipline",
                    "Partecipazione attiva delle famiglie nel processo educativo",
                    "Dialogo costruttivo tra tutti gli attori della comunità scolastica"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },
            {
                "question": "L'ICF dell'OMS propone una visione:",
                "options": [
                    "Biopsicosociale che integra diverse dimensioni della disabilità",
                    "Focalizzata esclusivamente sugli aspetti medici delle condizioni",
                    "Centrata principalmente sugli aspetti psicologici individuali",
                    "Concentrata sugli elementi sociali escludendo quelli biologici"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },
            {
                "question": "Secondo l'ICF, la disabilità deriva da:",
                "options": [
                    "Interazione complessa tra condizione di salute e ambiente circostante",
                    "Difetti genetici esclusivamente determinanti",
                    "Errori personali nella gestione delle proprie risorse",
                    "Mancanza di volontà nell'affrontare le difficoltà"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },
            {
                "question": "La classificazione ICF valorizza:",
                "options": [
                    "Funzionamento globale e partecipazione sociale della persona",
                    "Esclusivamente i deficit e le menomazioni individuali",
                    "Solo gli aspetti diagnostici delle condizioni di salute",
                    "Unicamente le menomazioni di tipo fisico e sensoriale"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },
            {
                "question": "Il modello sociale della disabilità sottolinea:",
                "options": [
                    "Le barriere ambientali, culturali e sociali che limitano la partecipazione",
                    "I limiti biologici come unici fattori determinanti",
                    "L'eredità genetica come causa principale delle difficoltà",
                    "Le capacità innate come elementi decisivi per il successo"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },
            {
                "question": "Un contesto inclusivo richiede:",
                "options": [
                    "Rimozione sistematica delle barriere fisiche, comunicative e culturali",
                    "Uniformità assoluta nelle proposte didattiche",
                    "Riduzione della partecipazione alle attività complesse",
                    "Controllo rigido dei comportamenti degli studenti"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },
            {
                "question": "La pedagogia inclusiva è:",
                "options": [
                    "Orientata alla valorizzazione delle potenzialità di ogni studente",
                    "Riservata a contesti educativi particolari e specializzati",
                    "Di tipo escludente verso studenti con particolari caratteristiche",
                    "Meramente disciplinare e trasmissiva di contenuti"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },
            {
                "question": "La scuola inclusiva in Italia nasce grazie a:",
                "options": [
                    "Processo di chiusura progressiva delle scuole speciali",
                    "Potenziamento delle classi separate per specifiche disabilità",
                    "Politiche di segregazione degli studenti con difficoltà",
                    "Ricerca di uniformità nelle prestazioni degli studenti"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },
            {
                "question": "Il principio di normalizzazione afferma che:",
                "options": [
                    "Le persone con disabilità hanno diritto a condizioni di vita normali",
                    "Le persone con disabilità dovrebbero vivere in contesti isolati",
                    "Le persone con disabilità devono essere separate dai loro coetanei",
                    "Le persone con disabilità non possono partecipare alla vita sociale"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },
            {
                "question": "Un documento chiave per l'inclusione in Europa è:",
                "options": [
                    "Dichiarazione di Salamanca del 1994 sull'educazione inclusiva",
                    "Carta di Nizza sui diritti fondamentali dell'Unione Europea",
                    "Trattato di Maastricht sull'Unione Europea",
                    "Convenzione di Lisbona sul riconoscimento delle qualifiche"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },
            {
                "question": "La Dichiarazione di Salamanca promuove:",
                "options": [
                    "Educazione inclusiva come approccio fondamentale per tutti gli studenti",
                    "Sviluppo di scuole speciali per specifiche tipologie di disabilità",
                    "Selezione degli studenti in base alle loro capacità cognitive",
                    "Esclusione sociale degli studenti con particolari difficoltà"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },
            {
                "question": "L'UNESCO sostiene che l'inclusione sia:",
                "options": [
                    "Strategia fondamentale per garantire un'educazione di qualità per tutti",
                    "Una scelta facoltativa che le scuole possono decidere di adottare",
                    "Una moda educativa destinata a esaurirsi nel tempo",
                    "Una forma di selezione degli studenti più meritevoli"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },
            {
                "question": "L'approccio inclusivo riconosce:",
                "options": [
                    "Dignità e valore di ogni persona indipendentemente dalle sue caratteristiche",
                    "Superiorità di alcuni individui rispetto ad altri",
                    "Uniformità culturale come obiettivo educativo primario",
                    "Disuguaglianze sociali come elementi inevitabili e naturali"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },
            {
                "question": "Una finalità dell'inclusione è:",
                "options": [
                    "Migliorare la coesione sociale attraverso l'educazione",
                    "Separare i diversi gruppi sociali nelle istituzioni educative",
                    "Rafforzare gerarchie basate sulle capacità individuali",
                    "Isolare gli individui con caratteristiche particolari"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },
            {
                "question": "La personalizzazione didattica significa:",
                "options": [
                    "Adattare percorsi e metodologie ai bisogni specifici di ogni studente",
                    "Offrire programmi di apprendimento identici per tutti gli studenti",
                    "Negare l'esistenza di differenze significative tra gli studenti",
                    "Uniformare i risultati di apprendimento di tutta la classe"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },
            {
                "question": "L'inclusione si fonda anche sul principio di:",
                "options": [
                    "Partecipazione democratica di tutti gli attori educativi",
                    "Esclusione gerarchica basata su criteri prestabiliti",
                    "Conformismo a modelli comportamentali uniformi",
                    "Uniformità nelle modalità di espressione personale"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },
            {
                "question": "Un ostacolo all'inclusione è:",
                "options": [
                    "Pregiudizio e stereotipo verso le diversità",
                    "Collaborazione tra docenti di diverse discipline",
                    "Dialogo costruttivo tra studenti con diverse esperienze",
                    "Rispetto delle differenze individuali e culturali"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },
            {
                "question": "La progettazione inclusiva deve:",
                "options": [
                    "Prevedere strategie flessibili e diversificate per tutti gli studenti",
                    "Imporre programmi rigidi e standardizzati per tutta la classe",
                    "Escludere attività che presentano particolari difficoltà",
                    "Negare l'utilizzo di strumenti e supporti personalizzati"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },
            {
                "question": "Un docente inclusivo è:",
                "options": [
                    "Attento ai bisogni specifici e alle potenzialità di ciascuno studente",
                    "Indifferente rispetto alle differenze individuali degli studenti",
                    "Rigido nell'applicazione delle regole e delle procedure",
                    "Centrato esclusivamente sul programma ministeriale da svolgere"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },
            {
                "question": "La scuola inclusiva valorizza:",
                "options": [
                    "Cooperative learning e apprendimento tra pari",
                    "Lezioni frontali come unica metodologia didattica",
                    "Competizione estrema tra studenti per stimolare la performance",
                    "Passività degli studenti nel processo di apprendimento"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },
            {
                "question": "Un principio pedagogico dell'inclusione è:",
                "options": [
                    "Equità nelle opportunità di apprendimento e sviluppo",
                    "Esclusione di chi non raggiunge determinati standard",
                    "Disparità di trattamento basata sulle caratteristiche individuali",
                    "Conformismo a modelli educativi tradizionali"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },
            {
                "question": "L'inclusione promuove:",
                "options": [
                    "Apprendimento collaborativo e cooperativo tra studenti",
                    "Isolamento degli studenti con particolari difficoltà",
                    "Uniformità nelle strategie di apprendimento",
                    "Passività nell'acquisizione delle conoscenze"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },
            {
                "question": "Un modello inclusivo efficace prevede:",
                "options": [
                    "Partecipazione attiva di famiglie e territorio al progetto educativo",
                    "Esclusione dei genitori dalle decisioni educative",
                    "Ruolo esclusivo dei docenti nella progettazione didattica",
                    "Separazione tra scuola e comunità territoriale"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },
            {
                "question": "Il diritto all'educazione inclusiva è sancito da:",
                "options": [
                    "Convenzione ONU sui diritti delle persone con disabilità",
                    "Codice napoleonico che regola i rapporti civili",
                    "Statuto Albertino che costituì il Regno d'Italia",
                    "Legge Casati che organizzò il sistema scolastico italiano"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },
            {
                "question": "L'articolo 24 della Convenzione ONU sottolinea:",
                "options": [
                    "Diritto all'istruzione senza discriminazioni per le persone con disabilità",
                    "Separazione scolastica per studenti con particolari necessità",
                    "Obbligo di frequenza in scuole speciali per alcune disabilità",
                    "Isolamento domestico come alternativa alla scuola per casi gravi"
                ],
                "correct": 0,
                "topic": "Fondamenti inclusione"
            },

            // Le restanti domande continuano con lo stesso approccio di revisione...
            // Per brevità, mostro solo le prime 40 domande completamente revisionate
        ];

        // Funzione per mescolare un array (Fisher-Yates)
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        // Seleziona domande casuali (gestisce anche il caso count > pool.length)
        function getRandomQuestions(questions, count) {
            const pool = [...questions];
            const desired = Math.min(count, pool.length);
            const shuffled = shuffleArray(pool);
            const selected = shuffled.slice(0, desired);
            return selected.map(q => {
                const correctAnswer = q.options[q.correct];
                const shuffledOptions = shuffleArray(q.options);
                const newCorrectIndex = shuffledOptions.indexOf(correctAnswer);
                return { ...q, options: shuffledOptions, correct: newCorrectIndex };
            });
        }

        // Render del quiz
        function renderQuiz(questions) {
            const quizContainer = document.getElementById('quiz-container');
            quizContainer.innerHTML = '';
            questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.innerHTML = `
                    <div class="question-number">Domanda ${index + 1}</div>
                    <div class="topic">Argomento: ${question.topic}</div>
                    <p>${question.question}</p>
                    <div class="options">
                        ${question.options.map((option, i) => `
                            <div class="option">
                                <input type="radio" id="q${index}_o${i}" name="q${index}" value="${i}">
                                <label for="q${index}_o${i}">${option}</label>
                            </div>
                        `).join('')}
                    </div>
                `;
                quizContainer.appendChild(questionDiv);
            });
            document.getElementById('current-topic').textContent = `Argomento: ${questions[0].topic}`;
        }

        // Calcolo punteggio e visualizzazione risultati
        function calculateScore(questions) {
            let score = 0;
            const resultsContainer = document.getElementById('results');
            resultsContainer.innerHTML = '<h2>Risultati</h2>';
            resultsContainer.style.display = 'block';
            questions.forEach((question, index) => {
                const selectedOption = document.querySelector(`input[name="q${index}"]:checked`);
                const userAnswer = selectedOption ? parseInt(selectedOption.value) : -1;
                const isCorrect = userAnswer === question.correct;
                if (isCorrect) score++;
                const resultDiv = document.createElement('div');
                resultDiv.className = `question-result ${isCorrect ? 'correct' : 'incorrect'}`;
                resultDiv.innerHTML = `
                    <p><strong>Domanda ${index + 1}:</strong> ${question.question}</p>
                    <p>La tua risposta: ${userAnswer !== -1 ? question.options[userAnswer] : 'Nessuna risposta'}</p>
                    <p class="correct">Risposta corretta: ${question.options[question.correct]}</p>
                    <div class="topic">Argomento: ${question.topic}</div>
                `;
                resultsContainer.appendChild(resultDiv);
            });

            const scoreDiv = document.createElement('div');
            scoreDiv.className = 'score';
            scoreDiv.innerHTML = `Hai totalizzato ${score} punti su ${questions.length}`;
            resultsContainer.prepend(scoreDiv);

            const retryDiv = document.createElement('div');
            retryDiv.className = 'retry-btn';
            retryDiv.innerHTML = '<button onclick="location.reload()">Ripeti il Quiz con altre 15 domande</button>';
            resultsContainer.appendChild(retryDiv);

            resultsContainer.scrollIntoView({ behavior: 'smooth' });
        }

        // Inizializzazione
        document.addEventListener('DOMContentLoaded', function() {
            const selectedQuestions = getRandomQuestions(questionsPool, 15);
            renderQuiz(selectedQuestions);
            document.getElementById('total').textContent = '15';
            document.getElementById('submit-btn').addEventListener('click', function() {
                calculateScore(selectedQuestions);
            });

            // osservatore per aggiornare topic e progresso
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const topic = entry.target.querySelector('.topic').textContent.replace('Argomento: ', '');
                        document.getElementById('current-topic').textContent = `Argomento: ${topic}`;
                        const questionNumber = entry.target.querySelector('.question-number').textContent.replace('Domanda ', '');
                        document.getElementById('current').textContent = questionNumber;
                    }
                });
            }, { threshold: 0.6 });

            // osserva le domande create
            const questions = document.querySelectorAll('.question');
            questions.forEach(q => observer.observe(q));
        });
    </script>
</body>
</html>
