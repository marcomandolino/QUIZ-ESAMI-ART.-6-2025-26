<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz di Didattica Cooperativa e Metacognitiva</title>
    <style>
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            line-height: 1.6; 
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%); 
            color: #333; 
            min-height: 100vh; 
            padding: 20px; 
            margin: 0;
        }
        .container { 
            max-width: 900px; 
            margin: 0 auto; 
            background-color: white; 
            padding: 30px; 
            border-radius: 15px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.15); 
        }
        header { 
            text-align: center; 
            margin-bottom: 30px; 
        }
        h1 { 
            color: #2c3e50; 
            margin-bottom: 10px; 
            font-size: 2.2rem; 
        }
        .description { 
            color: #7f8c8d; 
            margin-bottom: 20px; 
        }
        .stats { 
            display: flex; 
            justify-content: space-between; 
            margin-bottom: 20px; 
            background: #f8f9fa; 
            padding: 15px; 
            border-radius: 10px; 
            font-weight: bold; 
        }
        .question { 
            margin-bottom: 25px; 
            padding: 20px; 
            border: 1px solid #e0e0e0; 
            border-radius: 10px; 
            background: #f8f9fa; 
            box-shadow: 0 4px 6px rgba(0,0,0,0.05); 
        }
        .question-number { 
            font-weight: bold; 
            color: #3498db; 
            margin-bottom: 10px; 
            font-size: 1.1rem; 
        }
        .options { 
            margin-left: 10px; 
        }
        .option { 
            margin: 12px 0; 
            display: flex; 
            align-items: flex-start; 
        }
        .option input { 
            margin-top: 5px; 
            margin-right: 12px; 
            cursor: pointer; 
        }
        .option label { 
            cursor: pointer; 
            flex: 1; 
        }
        button { 
            display: block; 
            margin: 30px auto; 
            padding: 14px 35px; 
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%); 
            color: white; 
            border: none; 
            border-radius: 50px; 
            cursor: pointer; 
            font-size: 1.1rem; 
            font-weight: bold; 
            box-shadow: 0 4px 15px rgba(0,0,0,0.2); 
            transition: all .3s ease; 
        }
        button:hover { 
            transform: translateY(-2px); 
            box-shadow: 0 6px 20px rgba(0,0,0,0.25); 
        }
        .results { 
            margin-top: 30px; 
            padding: 25px; 
            border: 1px solid #e0e0e0; 
            border-radius: 10px; 
            background: #e7f3fe; 
            display: none; 
        }
        .results h2 { 
            text-align: center; 
            color: #2c3e50; 
            margin-bottom: 20px; 
        }
        .question-result { 
            margin-bottom: 20px; 
            padding: 15px; 
            border-radius: 8px; 
            background: white; 
            box-shadow: 0 2px 4px rgba(0,0,0,0.05); 
        }
        .correct { 
            color: #27ae60; 
            font-weight: bold; 
        }
        .incorrect { 
            color: #e74c3c; 
        }
        .score { 
            font-size: 1.4rem; 
            font-weight: bold; 
            text-align: center; 
            margin: 25px 0; 
            color: #2c3e50; 
        }
        .topic { 
            font-size: 0.9rem; 
            color: #7f8c8d; 
            font-style: italic; 
            margin-top: 5px; 
        }
        .retry-btn { 
            text-align: right; 
            margin-top: 20px; 
        }
        .retry-btn button { 
            margin: 0; 
            padding: 10px 25px; 
            font-size: 1rem; 
        }
        footer {
            text-align: center;
            margin-top: 20px;
            color: #7f8c8d;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Quiz di Didattica Cooperativa e Metacognitiva</h1>
            <p class="description">15 domande estratte casualmente da un pool di 200</p>
        </header>

        <div class="stats">
            <div id="current-topic">Argomento: -</div>
            <div id="progress">Domanda: <span id="current">1</span> di <span id="total">15</span></div>
        </div>

        <div id="quiz-container"></div>
        <button id="submit-btn">Invia risposte</button>

        <div id="results" class="results"></div>

        <footer>
            <p>Quiz sulla Didattica Cooperativa e Metacognitiva</p>
        </footer>
    </div>

    <script>
        // Pool di 200 domande sulla Didattica Cooperativa e Metacognitiva
        const questionsPool = [
            // Blocco 1: Fondamenti della Didattica e Modelli (12 Domande) - DOMANDA 0 CORRETTA
            {"question":"Qual è il significato etimologico della parola \"didattica\"?","options":["Dal greco \"didàsko\", che significa \"insegno\".","Deriva dal verbo latino che indica l'azione di guidare","Proviene dall'antico termine greco che significa accompagnare","Ha origine dalla parola latina che esprime il concetto di mostrare"],"correct":0,"topic":"Fondamenti della Didattica e Modelli"},
            {"question":"Chi è l'autore della \"Didactica Magna\", considerata un'opera fondativa della pedagogia moderna?","options":["Giovanni Amos Comenio.","John Dewey.","Lev Vygotskij.","Maria Montessori."],"correct":0,"topic":"Fondamenti della Didattica e Modelli"},
            {"question":"Come viene definita la didattica nell'Enciclopedia Treccani, secondo il testo?","options":["Quella parte dell'attività e della teoria educativa che concerne i metodi di insegnamento.","La scienza che studia esclusivamente i processi di apprendimento degli studenti.","L'arte di trasmettere conoscenze senza bisogno di modelli teorici di riferimento.","La pratica educativa fondata esclusivamente sull'esperienza personale del docente."],"correct":0,"topic":"Fondamenti della Didattica e Modelli"},
            // DOMANDA 3 CORRETTA
            {"question":"Secondo Damiano, che cosa rappresenta un modello in ambito didattico?","options":["Una rappresentazione di schemi operativi.","La riproduzione particolareggiata della situazione d'aula.","Un sistema di regole che orienta l'azione insegnante.","Uno strumento tecnologico per la didattica."],"correct":0,"topic":"Fondamenti della Didattica e Modelli"},
            {"question":"Come definisce il modello didattico lo studioso Laneve?","options":["Una concettualizzazione essenziale di un insieme di proposte teoriche coerenti.","Una serie di istruzioni passo-passo da seguire rigidamente in classe.","Un metodo esclusivamente pratico, privo di fondamenti teorici.","Un software interattivo per la progettazione di lezioni."],"correct":0,"topic":"Fondamenti della Didattica e Modelli"},
            {"question":"Secondo Calvani, qual è la principale caratteristica di un modello didattico?","options":["È un dispositivo progettuale e strategico, capace di indicare possibilità operative.","È un vincolo burocratico da rispettare nella stesura della programmazione.","È un insieme di teorie astratte senza alcuna ricaduta pratica.","È un metodo standardizzato uguale per tutti i contesti educativi."],"correct":0,"topic":"Fondamenti della Didattica e Modelli"},
            {"question":"Per Baldacci, il modello didattico è principalmente:","options":["Uno schema-guida per indirizzare le pratiche educative.","Un elenco di contenuti disciplinari da trasmettere agli studenti.","Una teoria psicologica sull'apprendimento infantile.","Un strumento di valutazione degli apprendimenti."],"correct":0,"topic":"Fondamenti della Didattica e Modelli"},
            {"question":"Perché, secondo il testo, la didattica non può essere lasciata al caso?","options":["Perché deve disporre di strumenti concettuali che diano ordine e significato all'agire educativo.","Perché è regolamentata da leggi nazionali che ne impongono i metodi.","Perché gli studenti imparano solo attraverso lezioni frontali strutturate.","Perché l'esperienza personale dell'insegnante è sempre fallace e insufficiente."],"correct":0,"topic":"Fondamenti della Didattica e Modelli"},
            {"question":"La didattica speciale è un esempio di:","options":["Specializzazione della didattica legata a specifici contesti di applicazione.","Un metodo di insegnamento superato dalla didattica generale.","Una disciplina che si occupa esclusivamente di studenti gifted.","Un sinonimo di pedagogia speciale."],"correct":0,"topic":"Fondamenti della Didattica e Modelli"},
            {"question":"Secondo Castoldi, qual è un compito fondamentale dell'insegnante?","options":["Mediare tra contenuti culturales e situazioni di vita, favorendo un clima sereno.","Trasmettere il programma ministeriale nella sua interezza e senza modifiche.","Concentrarsi esclusivamente sulla valutazione sommativa delle performances.","Sostituirsi alla famiglia nel processo educativo degli alunni."],"correct":0,"topic":"Fondamenti della Didattica e Modelli"},
            {"question":"Quale, tra i seguenti, NON è elencato nel testo come una variabile con cui la didattica deve fare i conti?","options":["Il segno zodiacale degli studenti.","Lo spazio e il tempo in cui si svolge l'attività.","I processi comunicativi che si instaurano.","L'intenzionalità e la sistematicità della proposta formativa."],"correct":0,"topic":"Fondamenti della Didattica e Modelli"},
            {"question":"Il testo afferma che la didattica si configura come un ambito complesso che si articola in diverse specializzazioni. Quale delle seguenti NON è una di queste specializzazioni menzionate?","options":["Didattica compensativa.","Didattica generale.","Didattica disciplinare.","Didattica sperimentale."],"correct":0,"topic":"Fondamenti della Didattica e Modelli"},

            // Blocco 2: Progettazione Didattica e Modello ADDIE (14 Domande) - DOMANDA 12 CORRETTA
            {"question":"Cosa significa etimologicamente il termine \"progetto\"?","options":["Dal latino \"pro-iectum\", \"gettato in avanti\".","Dal termine greco che indica ciò che viene considerato primario","Dall'espressione latina che significa prevedere ciò che verrà","Dalla parola greca che si riferisce all'atto dello scrivere"],"correct":0,"topic":"Progettazione Didattica e Modello ADDIE"},
            // DOMANDA 13 CORRETTA
            {"question":"Quale delle seguenti è una funzione essenziale della progettazione educativa?","options":["Gestire la complessità dei processi di insegnamento-apprendimento.","Applicare procedure standardizzate alla creatività docente","Ridurre gli elementi di imprevedibilità nei contesti scolastici","Concentrare il lavoro docente su aspetti amministrativi"],"correct":0,"topic":"Progettazione Didattica e Modello ADDIE"},
            {"question":"Oltre a gestire la complessità, quale altra funzione fondamentale ha la progettazione?","options":["Rendere trasparenti le scelte compiute, dando forma a percorsi coerenti.","Garantire che tutti gli studenti raggiungano gli stessi identici risultati.","Impedire qualsiasi forma di flessibilità o aggiustamento in itinere.","Limitare l'autonomia professionale degli insegnanti."],"correct":0,"topic":"Progettazione Didattica e Modello ADDIE"},
            {"question":"In tema di inclusione, a quali documenti specifici permette di rispondere la progettazione?","options":["Al Piano Educativo Individualizzato (PEI) e al Piano Didattico Personalizzato (PDP).","Esclusivamente al Registro Elettronico e al Programma Annuale.","Solo al Piano Triennale dell'Offerta Formativa (PTOF).","Principalmente alle Circolari Ministeriali e alle Ordinanze."],"correct":0,"topic":"Progettazione Didattica e Modello ADDIE"},
            {"question":"Da quale istituzione è stato elaborato il modello ADDIE?","options":["Dal Center for Educational Technology della Florida State University.","Dal Ministero dell'Istruzione italiano.","Dall'Organizzazione delle Nazioni Unite per l'Educazione (UNESCO).","Dall'Istituto Nazionale di Documentazione e Ricerca Educativa (INDIRE)."],"correct":0,"topic":"Progettazione Didattica e Modello ADDIE"},
            {"question":"In quale anno è stato sviluppato il modello ADDIE?","options":["Nel 1975.","Nel 1990.","Nel 2000.","Nel 1960."],"correct":0,"topic":"Progettazione Didattica e Modello ADDIE"},
            {"question":"Quali sono le cinque fasi del modello ADDIE?","options":["Analisi, Progettazione, Sviluppo, Implementazione, Valutazione.","Ascolto, Dialogo, Insegnamento, Esercitazione, Verifica.","Programmazione, Esecuzione, Controllo, Revisione, Rendicontazione.","Ideazione, Realizzazione, Monitoraggio, Valutazione, Disseminazione."],"correct":0,"topic":"Progettazione Didattica e Modello ADDIE"},
            {"question":"Come viene descritto il percorso del modello ADDIE?","options":["Circolare e ricorsivo.","Rigidamente lineare e sequenziale.","Casuale e adattivo.","Centrato esclusivamente sulla fase di valutazione finale."],"correct":0,"topic":"Progettazione Didattica e Modello ADDIE"},
            {"question":"A quali livelli può essere applicato il modello ADDIE?","options":["Dal macro al micro.","Solo a livello di singola lezione.","Solo a livello di programmazione di istituto.","Esclusivamente alla progettazione di corsi online."],"correct":0,"topic":"Progettazione Didattica e Modello ADDIE"},
            {"question":"Qual è una delle forze del modello ADDIE?","options":["La sua adattabilità e la capacità di guidare l'azione in maniera sistematica.","La sua semplicità che non richiede alcuna competenza specifica.","La sua rigidità che impedisce deviazioni dal piano iniziale.","Il fatto di essere l'unico modello riconosciuto a livello internazionale."],"correct":0,"topic":"Progettazione Didattica e Modello ADDIE"},
            {"question":"In che modo il modello ADDIE è stato recentemente reinterpretato?","options":["Anche in chiave inclusiva, ponendo attenzione agli adattamenti per tutti gli studenti.","Esclusivamente in chiave digitale, per l'e-learning.","Come modello per la sola valutazione standardizzata.","Como framework per la gestione amministrativa delle scuole."],"correct":0,"topic":"Progettazione Didattica e Modello ADDIE"},
            {"question":"La progettazione, secondo il testo, ha anche un valore di:","options":["Rendicontazione, permettendo di documentare e motivare le scelte.","Sostituzione della didattica quotidiana in aula.","Delega delle responsabilità del docente verso l'istituzione.","Creazione di materiali didattici standard per tutte le classi."],"correct":0,"topic":"Progettazione Didattica e Modello ADDIE"},
            // DOMANDA 25 CORRETTA
            {"question":"Quale delle seguenti NON è una funzione della progettazione didattica elencata nel testo?","options":["Assicurare il successo formativo del 100% degli studenti senza eccezioni.","Fornire una guida per decisioni ponderate mantenendo adattabilità","Organizzare processi di insegnamento-apprendimento complessi","Documentare in modo trasparente le scelte educative effettuate"],"correct":0,"topic":"Progettazione Didattica e Modello ADDIE"},
            {"question":"Il testo definisce la progettazione come un'azione:","options":["Anticipata e pianificata.","Esclusivamente spontanea e emergente dai bisogni del momento.","Riservata al solo team dirigenziale della scuola.","Finalizzata solo all'adempimento di obblighi normativi."],"correct":0,"topic":"Progettazione Didattica e Modello ADDIE"},

            // I restanti blocchi rimangono invariati...
            // Blocco 3: Obiettivi e Tassonomia di Bloom (12 Domande)
            {"question":"Come devono essere formulati gli obiettivi nella progettazione didattica?","options":["In modo chiaro, specifico e non ambiguo.","In termini generali e astratti per coprire più contenuti possibili.","Esclusivamente in forma di domande aperte per stimolare la riflessione.","Secondo un linguaggio tecnico-specialistico comprensibile solo agli esperti."],"correct":0,"topic":"Obiettivi e Tassonomia di Bloom"},
            {"question":"Come devono essere ordinati gli obiettivi?","options":["Secondo livelli di complessità crescente.","In ordine alfabetico per una più facile consultazione.","In base alla loro durata temporale, dai più brevi ai più lunghi.","Secondo la sequenza del libro di testo adottato."],"correct":0,"topic":"Obiettivi e Tassonomia di Bloom"},
            {"question":"Cosa rappresentano le tassonomie degli obiettivi educativi?","options":["Un riferimento imprescindibile per la definizione degli obiettivi.","Uno strumento obsoleto sostituito dalle tecnologie digitali.","Un elenco di comportamenti desiderabili ma non osservabili.","Un metodo per valutare solo le conoscenze mnestiche."],"correct":0,"topic":"Obiettivi e Tassonomia di Bloom"},
            {"question":"Chi ha proposto la tassonomia degli obiettivi educativi originaria?","options":["Bloom.","Vygotskij.","Gardner.","Bruner."],"correct":0,"topic":"Obiettivi e Tassonomia di Bloom"},
            {"question":"Chi ha successivamente rivisitato la tassonomia di Bloom?","options":["Anderson e Krathwohl.","Johnson e Johnson.","Cohen e Kagan.","Cottini e Ianes."],"correct":0,"topic":"Obiettivi e Tassonomia di Bloom"},
            {"question":"Quali sono i sei livelli della tassonomia di Bloom rivisitata?","options":["Ricordare, Comprendere, Applicare, Analizzare, Valutare, Creare.","Ascoltare, Parlare, Leggere, Scrivere, Sintetizzare, Argomentare.","Conoscere, Capire, Fare, Valutare, Inventare, Insegnare.","Osservare, Descrivere, Confrontare, Relazionare, Astrarre, Generalizzare."],"correct":0,"topic":"Obiettivi e Tassonomia di Bloom"},
            {"question":"Cosa consentono di fare i livelli della tassonomia di Bloom?","options":["Tradurre in comportamenti concreti ciò che lo studente deve saper fare.","Classificare gli studenti in base alle loro capacità innate.","Semplificare eccessivamente la complessità dei processi cognitivi.","Creare test standardizzati a scelta multipla."],"correct":0,"topic":"Obiettivi e Tassonomia di Bloom"},
            {"question":"Il livello \"Analizzare\" della tassonomia di Bloom implica:","options":["Scomporre un concetto nelle sue parti costitutive e comprenderne le relazioni.","Ripetere informazioni memorizzate in modo preciso.","Utilizzare una conoscenza in un contesto nuovo e familiare.","Giudicare il valore di un'idea o di un prodotto secondo standard definiti."],"correct":0,"topic":"Obiettivi e Tassonomia di Bloom"},
            {"question":"Il livello \"Valutare\" della tassonomia di Bloom è principalmente connesso alla capacità di:","options":["Esprimere giudizi basati su criteri e standard.","Produrre qualcosa di nuovo e originale.","Comprendere il significato di istruzioni e messaggi.","Eseguire procedure in situazioni note."],"correct":0,"topic":"Obiettivi e Tassonomia di Bloom"},
            {"question":"Il livello \"Creare\" rappresenta:","options":["Il livello di massima complessità cognitiva, che implica generare nuove idee.","Il livello base, che implica la riproduzione di informazioni.","Un livello intermedio di comprensione dei contenuti.","Una competenza esclusivamente artistica e non trasversale."],"correct":0,"topic":"Obiettivi e Tassonomia di Bloom"},
            {"question":"La tassonomia di Bloom è uno strumento utile per:","options":["Ordinare gli obiettivi secondo una gerarchia di complessità cognitiva.","Valutare il quoziente intellettivo degli studenti.","Sostituire la progettazione didattica curricolare.","Definire i contenuti minimi obbligatori per legge."],"correct":0,"topic":"Obiettivi e Tassonomia di Bloom"},
            {"question":"Secondo il testo, gli obiettivi devono essere coerenti con:","options":["Le risorse disponibili e le potenzialità degli studenti.","Esclusivamente con le Indicazioni Nazionali ministeriali.","I desideri e le aspettative delle famiglie degli alunni.","Le mode pedagogiche del momento."],"correct":0,"topic":"Obiettivi e Tassonomia di Bloom"},

            // I restanti blocchi continuano invariati...
            // Per brevità, mostro solo le prime parti del codice completo
            // Il resto del codice rimane identico all'originale

            // Blocco 4: Individualizzazione e Personalizzazione (12 Domande)
            {"question":"In ottica inclusiva, a cosa è strettamente legata la questione degli obiettivi?","options":["Al tema degli adattamenti.","All'uso obbligatorio del libro di testo.","Alla velocità di esecuzione dei compiti.","All'assegnazione di voti numerici."],"correct":0,"topic":"Individualizzazione e Personalizzazione"},
            {"question":"Cosa prevede la strategia di adattamento chiamata \"sostituzione\"?","options":["Un cambiamento dell'input e/o dell'output previsto dall'attività.","L'eliminazione dell'obiettivo per lo studente in difficoltà.","La ripetizione dell'attività fino al suo completo apprendimento.","L'assegnazione di un tutor che svolge il compito al posto dello studente."],"correct":0,"topic":"Individualizzazione e Personalizzazione"},
            {"question":"In quale situazione la \"sostituzione\" può essere particolarmente utile?","options":["In presenza di disabilità sensoriali.","In caso di assenze prolungate dello studente.","Per tutti gli studenti come pratica ordinaria.","Solo in ambito sportivo e motorio."],"correct":0,"topic":"Individualizzazione e Personalizzazione"},
            {"question":"Cosa interviene la \"semplificazione\"?","options":["Sulle modalità di gestione della consegna (es. comprensione, elaborazione, output).","Sulla riduzione del numero di pagine da studiare.","Sull'eliminazione dei concetti più complessi dal curricolo.","Sulla richiesta di un minor impegno allo studente."],"correct":0,"topic":"Individualizzazione e Personalizzazione"},
            {"question":"Cosa si intende per \"flessibilità\" in senso ampio?","options":["La capacità del docente di modificare percorsi e strategie in base ai bisogni emergenti.","L'orario di ingresso e uscita variabile per gli studenti.","La libertà di non rispettare il programma ministeriale.","L'uso facoltativo dei sussidi didattici."],"correct":0,"topic":"Individualizzazione e Personalizzazione"},
            {"question":"Cosa prevede l'individualizzazione?","options":["Che, a fronte di uno stesso obiettivo, ogni studente possa avvalersi di risorse diversificate.","Che ogni studente abbia obiettivi completamente diversi dagli altri.","Che l'insegnante segua individualmente ogni studente per tutto il tempo scuola.","Che si formino gruppi di livello omogeneo per capacità."],"correct":0,"topic":"Individualizzazione e Personalizzazione"},
            {"question":"Qual è il compito del docente nell'individualizzazione?","options":["Mettere tutti nelle condizioni di raggiungere uno stesso obiettivo con strategie personali.","Assegnare obiettivi diversi a ciascuno studente in base alle sue potenzialità.","Lasciare che ogni studente scelga liberamente cosa e come apprendere.","Concentrarsi solo sugli studenti che mostrano maggiori difficoltà."],"correct":0,"topic":"Individualizzazione e Personalizzazione"},
            {"question":"In cosa si differenzia la personalizzazione dall'individualizzazione?","options":["La personalizzazione assume che per ognuno possano essere individuati obiettivi diversi.","La personalizzazione si basa sull'uso di tecnologie, l'individualizzazione no.","La personalizzazione è un concetto più vecchio e superato dell'individualizzazione.","La personalizzazione riguarda solo gli studenti con disabilità certificata."],"correct":0,"topic":"Individualizzazione e Personalizzazione"},
            {"question":"Secondo il testo, i concetti di individualizzazione e personalizzazione sono:","options":["Spesso utilizzati erroneamente come sinonimi.","Identici nel significato e nelle pratiche didattiche.","In antitesi tra loro e mutualmente esclusivi.","Riferiti rispettivamente alla scuola primaria e secondaria."],"correct":0,"topic":"Individualizzazione e Personalizzazione"},
            {"question":"Nella personalizzazione, a obiettivi diversi sono inevitabilmente connesse:","options":["Risorse diverse.","Le stesse identiche risorse per garantire l'equità.","Valutazioni standardizzate e confrontabili.","Tempistiche di realizzazione obbligate."],"correct":0,"topic":"Individualizzazione e Personalizzazione"},
            {"question":"Quale strategia di adattamento prevede di scomporre un obiettivo complesso in sotto-obiettivi?","options":["La scomposizione.","La sostituzione.","La facilitazione.","L'eliminazione."],"correct":0,"topic":"Individualizzazione e Personalizzazione"},
            {"question":"La \"facilitazione\" è una strategia che:","options":["Rientra tra gli adattamenti degli obiettivi per favorire l'apprendimento.","Consiste nel fornire direttamente le risposte corrette allo studente.","È vietata dalla normativa sull'inclusione scolastica.","Si applica solo alle verifiche orali e non a quelle scritte."],"correct":0,"topic":"Individualizzazione e Personalizzazione"},

            // I restanti blocchi 5-15 rimangono invariati rispetto all'originale
            // Per brevità non li riporto tutti, ma nel codice completo devono essere presenti
            // ... [il resto del pool di domande rimane identico all'originale]
        ];

        // Funzione per mescolare un array (Fisher-Yates)
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        // Seleziona domande casuali (gestisce anche il caso count > pool.length)
        function getRandomQuestions(questions, count) {
            const pool = [...questions];
            const desired = Math.min(count, pool.length);
            const shuffled = shuffleArray(pool);
            const selected = shuffled.slice(0, desired);
            return selected.map(q => {
                const correctAnswer = q.options[q.correct];
                const shuffledOptions = shuffleArray(q.options);
                const newCorrectIndex = shuffledOptions.indexOf(correctAnswer);
                return { ...q, options: shuffledOptions, correct: newCorrectIndex };
            });
        }

        // Render del quiz
        function renderQuiz(questions) {
            const quizContainer = document.getElementById('quiz-container');
            quizContainer.innerHTML = '';
            questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.innerHTML = `
                    <div class="question-number">Domanda ${index + 1}</div>
                    <div class="topic">Argomento: ${question.topic}</div>
                    <p>${question.question}</p>
                    <div class="options">
                        ${question.options.map((option, i) => `
                            <div class="option">
                                <input type="radio" id="q${index}_o${i}" name="q${index}" value="${i}">
                                <label for="q${index}_o${i}">${option}</label>
                            </div>
                        `).join('')}
                    </div>
                `;
                quizContainer.appendChild(questionDiv);
            });
            document.getElementById('current-topic').textContent = `Argomento: ${questions[0].topic}`;
        }

        // Calcolo punteggio e visualizzazione risultati
        function calculateScore(questions) {
            let score = 0;
            const resultsContainer = document.getElementById('results');
            resultsContainer.innerHTML = '<h2>Risultati</h2>';
            resultsContainer.style.display = 'block';
            questions.forEach((question, index) => {
                const selectedOption = document.querySelector(`input[name="q${index}"]:checked`);
                const userAnswer = selectedOption ? parseInt(selectedOption.value) : -1;
                const isCorrect = userAnswer === question.correct;
                if (isCorrect) score++;
                const resultDiv = document.createElement('div');
                resultDiv.className = `question-result ${isCorrect ? 'correct' : 'incorrect'}`;
                resultDiv.innerHTML = `
                    <p><strong>Domanda ${index + 1}:</strong> ${question.question}</p>
                    <p>La tua risposta: ${userAnswer !== -1 ? question.options[userAnswer] : 'Nessuna risposta'}</p>
                    <p class="correct">Risposta corretta: ${question.options[question.correct]}</p>
                    <div class="topic">Argomento: ${question.topic}</div>
                `;
                resultsContainer.appendChild(resultDiv);
            });

            const scoreDiv = document.createElement('div');
            scoreDiv.className = 'score';
            scoreDiv.innerHTML = `Hai totalizzato ${score} punti su ${questions.length}`;
            resultsContainer.prepend(scoreDiv);

            const retryDiv = document.createElement('div');
            retryDiv.className = 'retry-btn';
            retryDiv.innerHTML = '<button onclick="location.reload()">Ripeti il Quiz con altre 15 domande</button>';
            resultsContainer.appendChild(retryDiv);

            resultsContainer.scrollIntoView({ behavior: 'smooth' });
        }

        // Inizializzazione
        document.addEventListener('DOMContentLoaded', function() {
            const selectedQuestions = getRandomQuestions(questionsPool, 15);
            renderQuiz(selectedQuestions);
            document.getElementById('total').textContent = '15';
            document.getElementById('submit-btn').addEventListener('click', function() {
                calculateScore(selectedQuestions);
            });

            // osservatore per aggiornare topic e progresso
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const topic = entry.target.querySelector('.topic').textContent.replace('Argomento: ', '');
                        document.getElementById('current-topic').textContent = `Argomento: ${topic}`;
                        const questionNumber = entry.target.querySelector('.question-number').textContent.replace('Domanda ', '');
                        document.getElementById('current').textContent = questionNumber;
                    }
                });
            }, { threshold: 0.6 });

            // osserva le domande create
            const questions = document.querySelectorAll('.question');
            questions.forEach(q => observer.observe(q));
        });
    </script>
</body>
</html>
